import { useSelector } from "react-redux";
import { selectCamper } from "../../redux/campers/selectors.js";
import { useEffect, useState } from "react";
import css from "./Features.module.css";
import { MdOutlineBathroom } from "react-icons/md";
import { FaGasPump } from "react-icons/fa6";
import { BsCupHot } from "react-icons/bs";
import { FaTv } from "react-icons/fa";
import MyForm from "../Form/Form.jsx";

export default function Features() {
  const selectedCamper = useSelector(selectCamper);

  const [camper, setCamper] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(false);

  useEffect(() => {
    async function fetchCamper() {
      try {
        setLoading(true);
        setCamper(selectedCamper);
      } catch (err) {
        setError(true);
      } finally {
        setLoading(false);
      }
    }

    fetchCamper();
  }, [selectedCamper]);

  return (
    <div className={css.containers}>
      <div className={css.container}>
        {loading && <b>Loading reviews...</b>}
        {error && <b>Error loading reviews!</b>}
        <div className={css.foursRow}>
          <div className={css.transmission}>
            <svg
              width="20"
              height="21"
              viewBox="0 0 20 21"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M7.5 4.47882C7.5 3.98154 7.69754 3.50463 8.04917 3.153C8.40081 2.80136 8.87772 2.60382 9.375 2.60382H10.625C11.1223 2.60382 11.5992 2.80136 11.9508 3.153C12.3025 3.50463 12.5 3.98154 12.5 4.47882V5.72882C12.5 6.2261 12.3025 6.70302 11.9508 7.05465C11.5992 7.40628 11.1223 7.60382 10.625 7.60382V8.85382H17.5C17.6658 8.85382 17.8247 8.91967 17.9419 9.03688C18.0592 9.15409 18.125 9.31306 18.125 9.47882V10.7288C18.125 10.8946 18.0592 11.0536 17.9419 11.1708C17.8247 11.288 17.6658 11.3538 17.5 11.3538C17.3342 11.3538 17.1753 11.288 17.0581 11.1708C16.9408 11.0536 16.875 10.8946 16.875 10.7288V10.1038H10.625V10.7288C10.625 10.8946 10.5592 11.0536 10.4419 11.1708C10.3247 11.288 10.1658 11.3538 10 11.3538C9.83424 11.3538 9.67527 11.288 9.55806 11.1708C9.44085 11.0536 9.375 10.8946 9.375 10.7288V10.1038H3.125V10.7288C3.125 10.8946 3.05915 11.0536 2.94194 11.1708C2.82473 11.288 2.66576 11.3538 2.5 11.3538C2.33424 11.3538 2.17527 11.288 2.05806 11.1708C1.94085 11.0536 1.875 10.8946 1.875 10.7288V9.47882C1.875 9.31306 1.94085 9.15409 2.05806 9.03688C2.17527 8.91967 2.33424 8.85382 2.5 8.85382H9.375V7.60382C8.87772 7.60382 8.40081 7.40628 8.04917 7.05465C7.69754 6.70302 7.5 6.2261 7.5 5.72882V4.47882ZM10.625 6.35382C10.7908 6.35382 10.9497 6.28797 11.0669 6.17076C11.1842 6.05355 11.25 5.89458 11.25 5.72882V4.47882C11.25 4.31306 11.1842 4.15409 11.0669 4.03688C10.9497 3.91967 10.7908 3.85382 10.625 3.85382H9.375C9.20924 3.85382 9.05027 3.91967 8.93306 4.03688C8.81585 4.15409 8.75 4.31306 8.75 4.47882V5.72882C8.75 5.89458 8.81585 6.05355 8.93306 6.17076C9.05027 6.28797 9.20924 6.35382 9.375 6.35382H10.625ZM0 14.4788C0 13.9815 0.197544 13.5046 0.549175 13.153C0.900805 12.8014 1.37772 12.6038 1.875 12.6038H3.125C3.62228 12.6038 4.09919 12.8014 4.45083 13.153C4.80246 13.5046 5 13.9815 5 14.4788V15.7288C5 16.2261 4.80246 16.703 4.45083 17.0546C4.09919 17.4063 3.62228 17.6038 3.125 17.6038H1.875C1.37772 17.6038 0.900805 17.4063 0.549175 17.0546C0.197544 16.703 0 16.2261 0 15.7288L0 14.4788ZM1.875 13.8538C1.70924 13.8538 1.55027 13.9197 1.43306 14.0369C1.31585 14.1541 1.25 14.3131 1.25 14.4788V15.7288C1.25 15.8946 1.31585 16.0536 1.43306 16.1708C1.55027 16.288 1.70924 16.3538 1.875 16.3538H3.125C3.29076 16.3538 3.44973 16.288 3.56694 16.1708C3.68415 16.0536 3.75 15.8946 3.75 15.7288V14.4788C3.75 14.3131 3.68415 14.1541 3.56694 14.0369C3.44973 13.9197 3.29076 13.8538 3.125 13.8538H1.875ZM7.5 14.4788C7.5 13.9815 7.69754 13.5046 8.04917 13.153C8.40081 12.8014 8.87772 12.6038 9.375 12.6038H10.625C11.1223 12.6038 11.5992 12.8014 11.9508 13.153C12.3025 13.5046 12.5 13.9815 12.5 14.4788V15.7288C12.5 16.2261 12.3025 16.703 11.9508 17.0546C11.5992 17.4063 11.1223 17.6038 10.625 17.6038H9.375C8.87772 17.6038 8.40081 17.4063 8.04917 17.0546C7.69754 16.703 7.5 16.2261 7.5 15.7288V14.4788ZM9.375 13.8538C9.20924 13.8538 9.05027 13.9197 8.93306 14.0369C8.81585 14.1541 8.75 14.3131 8.75 14.4788V15.7288C8.75 15.8946 8.81585 16.0536 8.93306 16.1708C9.05027 16.288 9.20924 16.3538 9.375 16.3538H10.625C10.7908 16.3538 10.9497 16.288 11.0669 16.1708C11.1842 16.0536 11.25 15.8946 11.25 15.7288V14.4788C11.25 14.3131 11.1842 14.1541 11.0669 14.0369C10.9497 13.9197 10.7908 13.8538 10.625 13.8538H9.375ZM15 14.4788C15 13.9815 15.1975 13.5046 15.5492 13.153C15.9008 12.8014 16.3777 12.6038 16.875 12.6038H18.125C18.6223 12.6038 19.0992 12.8014 19.4508 13.153C19.8025 13.5046 20 13.9815 20 14.4788V15.7288C20 16.2261 19.8025 16.703 19.4508 17.0546C19.0992 17.4063 18.6223 17.6038 18.125 17.6038H16.875C16.3777 17.6038 15.9008 17.4063 15.5492 17.0546C15.1975 16.703 15 16.2261 15 15.7288V14.4788ZM16.875 13.8538C16.7092 13.8538 16.5503 13.9197 16.4331 14.0369C16.3158 14.1541 16.25 14.3131 16.25 14.4788V15.7288C16.25 15.8946 16.3158 16.0536 16.4331 16.1708C16.5503 16.288 16.7092 16.3538 16.875 16.3538H18.125C18.2908 16.3538 18.4497 16.288 18.5669 16.1708C18.6842 16.0536 18.75 15.8946 18.75 15.7288V14.4788C18.75 14.3131 18.6842 14.1541 18.5669 14.0369C18.4497 13.9197 18.2908 13.8538 18.125 13.8538H16.875Z"
                fill="#101828"
              />
            </svg>
            {camper.transmission}
          </div>
          <div className={css.engine}>
            <FaGasPump />
            {camper.engine}
          </div>
          {camper.kitchen && (
            <div className={css.kitchen}>
              <BsCupHot />
              Kitchen
            </div>
          )}
          {camper.AC && (
            <div className={css.AC}>
              <svg
                width="20"
                height="18"
                viewBox="0 0 20 18"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M15.625 1.70764C14.7962 1.70764 14.0013 2.03688 13.4153 2.62293C12.8292 3.20899 12.5 4.00384 12.5 4.83264C12.5 4.9984 12.4342 5.15737 12.3169 5.27458C12.1997 5.3918 12.0408 5.45764 11.875 5.45764C11.7092 5.45764 11.5503 5.3918 11.4331 5.27458C11.3158 5.15737 11.25 4.9984 11.25 4.83264C11.25 3.96735 11.5066 3.12149 11.9873 2.40202C12.4681 1.68256 13.1513 1.1218 13.9508 0.790671C14.7502 0.459537 15.6299 0.372898 16.4785 0.541708C17.3272 0.710518 18.1067 1.1272 18.7186 1.73905C19.3304 2.35091 19.7471 3.13046 19.9159 3.97912C20.0847 4.82779 19.9981 5.70746 19.667 6.50688C19.3358 7.30631 18.7751 7.98959 18.0556 8.47032C17.3362 8.95105 16.4903 9.20764 15.625 9.20764H0.625C0.45924 9.20764 0.300269 9.1418 0.183058 9.02458C0.065848 8.90737 0 8.7484 0 8.58264C0 8.41688 0.065848 8.25791 0.183058 8.1407C0.300269 8.02349 0.45924 7.95764 0.625 7.95764H15.625C16.4538 7.95764 17.2487 7.6284 17.8347 7.04235C18.4208 6.4563 18.75 5.66145 18.75 4.83264C18.75 4.00384 18.4208 3.20899 17.8347 2.62293C17.2487 2.03688 16.4538 1.70764 15.625 1.70764ZM6.875 2.95764C6.54348 2.95764 6.22554 3.08934 5.99112 3.32376C5.7567 3.55818 5.625 3.87612 5.625 4.20764C5.625 4.3734 5.55915 4.53237 5.44194 4.64958C5.32473 4.7668 5.16576 4.83264 5 4.83264C4.83424 4.83264 4.67527 4.7668 4.55806 4.64958C4.44085 4.53237 4.375 4.3734 4.375 4.20764C4.375 3.71319 4.52162 3.22984 4.79633 2.81872C5.07103 2.4076 5.46148 2.08716 5.91829 1.89794C6.37511 1.70873 6.87777 1.65922 7.36273 1.75568C7.84768 1.85214 8.29314 2.09025 8.64277 2.43988C8.9924 2.78951 9.2305 3.23497 9.32696 3.71992C9.42343 4.20487 9.37392 4.70754 9.1847 5.16435C8.99548 5.62117 8.67505 6.01161 8.26393 6.28632C7.8528 6.56102 7.36945 6.70764 6.875 6.70764H0.625C0.45924 6.70764 0.300269 6.6418 0.183058 6.52458C0.065848 6.40737 0 6.2484 0 6.08264C0 5.91688 0.065848 5.75791 0.183058 5.6407C0.300269 5.52349 0.45924 5.45764 0.625 5.45764H6.875C7.20652 5.45764 7.52446 5.32595 7.75888 5.09153C7.9933 4.85711 8.125 4.53916 8.125 4.20764C8.125 3.87612 7.9933 3.55818 7.75888 3.32376C7.52446 3.08934 7.20652 2.95764 6.875 2.95764ZM0 11.0826C0 10.9169 0.065848 10.7579 0.183058 10.6407C0.300269 10.5235 0.45924 10.4576 0.625 10.4576H13.1775C13.9192 10.4576 14.6442 10.6776 15.2609 11.0896C15.8776 11.5017 16.3582 12.0874 16.642 12.7726C16.9259 13.4578 17.0001 14.2118 16.8554 14.9392C16.7108 15.6667 16.3536 16.3348 15.8292 16.8593C15.3047 17.3837 14.6365 17.7409 13.9091 17.8856C13.1817 18.0303 12.4277 17.956 11.7424 17.6722C11.0572 17.3884 10.4715 16.9077 10.0595 16.291C9.64743 15.6743 9.4275 14.9493 9.4275 14.2076C9.4275 14.0419 9.49335 13.8829 9.61056 13.7657C9.72777 13.6485 9.88674 13.5826 10.0525 13.5826C10.2183 13.5826 10.3772 13.6485 10.4944 13.7657C10.6117 13.8829 10.6775 14.0419 10.6775 14.2076C10.6775 14.7021 10.8241 15.1854 11.0988 15.5966C11.3735 16.0077 11.764 16.3281 12.2208 16.5173C12.6776 16.7066 13.1803 16.7561 13.6652 16.6596C14.1502 16.5631 14.5956 16.325 14.9453 15.9754C15.2949 15.6258 15.533 15.1803 15.6295 14.6954C15.7259 14.2104 15.6764 13.7078 15.4872 13.2509C15.298 12.7941 14.9775 12.4037 14.5664 12.129C14.1553 11.8543 13.672 11.7076 13.1775 11.7076H0.625C0.45924 11.7076 0.300269 11.6418 0.183058 11.5246C0.065848 11.4074 0 11.2484 0 11.0826Z"
                  fill="#101828"
                />
              </svg>
              AC
            </div>
          )}
          {camper.TV && (
            <div className={css.TV}>
              <FaTv />
              TV
            </div>
          )}
          {camper.bathroom && (
            <div className={css.bathroom}>
              <MdOutlineBathroom />
              Bathroom
            </div>
          )}
        </div>
        <div>
          <p className={css.title}>Vehicle details</p>
          <div className={css.listOptions}>
            <div className={css.listItem}>
              <p>Form</p>
              <p className={css.option}>{camper.form}</p>
            </div>
            <div className={css.listItem}>
              <p>Length</p>
              <p className={css.option}>{camper.length}</p>
            </div>
            <div className={css.listItem}>
              <p>Width</p>
              <p className={css.option}>{camper.width}</p>
            </div>
            <div className={css.listItem}>
              <p>Height</p>
              <p className={css.option}>{camper.height}</p>
            </div>
            <div className={css.listItem}>
              <p>Tank</p>
              <p className={css.option}>{camper.tank}</p>
            </div>
            <div className={css.listItem}>
              <p>Consumption</p>
              <p className={css.option}>{camper.consumption}</p>
            </div>
          </div>
        </div>
      </div>
      <MyForm />
    </div>
  );
}
